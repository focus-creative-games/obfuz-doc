"use strict";(self.webpackChunkobfuz=self.webpackChunkobfuz||[]).push([[4612],{8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>r});var s=t(6540);const i={},o=s.createContext(i);function a(e){const n=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(o.Provider,{value:n},e.children)}},9062:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>u,frontMatter:()=>a,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"help/faq","title":"Frequently Asked Questions","description":"Exceptions During Build or Manual Obfuscation","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/help/faq.md","sourceDirName":"help","slug":"/help/faq","permalink":"/en/docs/help/faq","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/help/faq.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"\u5e2e\u52a9","permalink":"/en/docs/help"},"next":{"title":"Release Log","permalink":"/en/docs/help/releaselog"}}');var i=t(4848),o=t(8453);const a={},r="Frequently Asked Questions",c={},l=[{value:"Exceptions During Build or Manual Obfuscation",id:"exceptions-during-build-or-manual-obfuscation",level:2},{value:"<code>ArgumentExcption: An item with same key has already been added. Key:object Item. - Obfuz.ObfusPasses.SymbolObfus.RenameRecordMap:LoadPropertyMapping</code>",id:"argumentexcption-an-item-with-same-key-has-already-been-added-keyobject-item---obfuzobfuspassessymbolobfusrenamerecordmaploadpropertymapping",level:3},{value:"IL2CPP build process prints error logs that some types, fields, functions, properties, or events cannot be found. The names of these missing metadata are the original unobfuscated names",id:"il2cpp-build-process-prints-error-logs-that-some-types-fields-functions-properties-or-events-cannot-be-found-the-names-of-these-missing-metadata-are-the-original-unobfuscated-names",level:3},{value:"Obfuscation succeeds during build, but errors occur during IL2CPP code generation",id:"obfuscation-succeeds-during-build-but-errors-occur-during-il2cpp-code-generation",level:3},{value:"<code>[ReflectionCompatiblityDetector] Reflection compatility issue in ...</code>",id:"reflectioncompatiblitydetector-reflection-compatility-issue-in-",level:3},{value:"Exceptions During Runtime",id:"exceptions-during-runtime",level:2},{value:"TypeLoadException: Could not resolve type with token 010001ec from typeref (expected class &#39;$a.$d`1&#39; in assembly &#39;Obfuz.Runtime, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null&#39;)",id:"typeloadexception-could-not-resolve-type-with-token-010001ec-from-typeref-expected-class-ad1-in-assembly-obfuzruntime-version0000-cultureneutral-publickeytokennull",level:3},{value:"<code>exception:The type initializer for &#39;$$Obfuz$RVA$&#39; threw an exception., stack:  at ...</code>",id:"exceptionthe-type-initializer-for-obfuzrva-threw-an-exception-stack--at-",level:3},{value:"Other Questions",id:"other-questions",level:2},{value:"Does Obfuz have any limitations on code?",id:"does-obfuz-have-any-limitations-on-code",level:3},{value:"Can Obfuz obfuscate Chinese type names or fields?",id:"can-obfuz-obfuscate-chinese-type-names-or-fields",level:3},{value:"How much impact does Obfuz have on performance?",id:"how-much-impact-does-obfuz-have-on-performance",level:3}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"frequently-asked-questions",children:"Frequently Asked Questions"})}),"\n",(0,i.jsx)(n.h2,{id:"exceptions-during-build-or-manual-obfuscation",children:"Exceptions During Build or Manual Obfuscation"}),"\n",(0,i.jsx)(n.h3,{id:"argumentexcption-an-item-with-same-key-has-already-been-added-keyobject-item---obfuzobfuspassessymbolobfusrenamerecordmaploadpropertymapping",children:(0,i.jsx)(n.code,{children:"ArgumentExcption: An item with same key has already been added. Key:object Item. - Obfuz.ObfusPasses.SymbolObfus.RenameRecordMap:LoadPropertyMapping"})}),"\n",(0,i.jsxs)(n.p,{children:["Older versions had this issue when defining multiple parameterized properties with the same name (like ",(0,i.jsx)(n.code,{children:"operator []"}),"). Please update to the latest version and ",(0,i.jsxs)(n.strong,{children:["delete the old ",(0,i.jsx)(n.code,{children:"symbol-mapping.xml"})," file"]})," (located at ",(0,i.jsx)(n.code,{children:"Assets/Obfuz/symbol-mapping.xml"})," by default)."]}),"\n",(0,i.jsx)(n.h3,{id:"il2cpp-build-process-prints-error-logs-that-some-types-fields-functions-properties-or-events-cannot-be-found-the-names-of-these-missing-metadata-are-the-original-unobfuscated-names",children:"IL2CPP build process prints error logs that some types, fields, functions, properties, or events cannot be found. The names of these missing metadata are the original unobfuscated names"}),"\n",(0,i.jsxs)(n.p,{children:["The problematic assembly is likely referencing an obfuscated assembly but hasn't been added to the ",(0,i.jsx)(n.code,{children:"ObfuzSettings.AssemblySettings.NonObfuscatedButReferenceingObfuscatedAssemblies"})," list.\nIf not added to this list, references in these assemblies won't be updated when obfuscated metadata changes, causing errors. See ",(0,i.jsx)(n.a,{href:"../manual/assembly",children:"Assembly"})," and ",(0,i.jsx)(n.a,{href:"../manual/symbol-obfuscation",children:"Symbol Obfuscation"})," for details."]}),"\n",(0,i.jsx)(n.h3,{id:"obfuscation-succeeds-during-build-but-errors-occur-during-il2cpp-code-generation",children:"Obfuscation succeeds during build, but errors occur during IL2CPP code generation"}),"\n",(0,i.jsx)(n.p,{children:"Possible reasons:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"The obfuscated DLL generated by Obfuz has bugs"}),"\n",(0,i.jsx)(n.li,{children:"IL2CPP has specific requirements for metadata names that Obfuz didn't meet"}),"\n",(0,i.jsxs)(n.li,{children:["Obfuz fixed the issue, but an old ",(0,i.jsx)(n.code,{children:"symbol-mapping.xml"})," file is forcing it to use invalid or incompatible obfuscation"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Solutions:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Delete ",(0,i.jsx)(n.code,{children:"symbol-mapping.xml"})]}),"\n",(0,i.jsx)(n.li,{children:"Update Obfuz to the latest version"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"If still unresolved, please create a reproduction project and report it to us."}),"\n",(0,i.jsx)(n.h3,{id:"reflectioncompatiblitydetector-reflection-compatility-issue-in-",children:(0,i.jsx)(n.code,{children:"[ReflectionCompatiblityDetector] Reflection compatility issue in ..."})}),"\n",(0,i.jsx)(n.p,{children:"The Symbol Obfuscation Pass detects potential reflection or logic errors after obfuscating symbol names. Obfuz cannot accurately determine if potentially problematic code is actually faulty.\nFor such errors or warnings, please verify manually. If confirmed safe, you can ignore these logs."}),"\n",(0,i.jsxs)(n.p,{children:["If all code is verified and you want to suppress these logs, disable reflection compatibility detection in ",(0,i.jsx)(n.code,{children:"ObfuzSettings.SybmolObfusSettings"}),". See ",(0,i.jsx)(n.a,{href:"../manual/symbol-obfuscation",children:"Symbol Obfuscation"})," for details."]}),"\n",(0,i.jsx)(n.h2,{id:"exceptions-during-runtime",children:"Exceptions During Runtime"}),"\n",(0,i.jsx)(n.h3,{id:"typeloadexception-could-not-resolve-type-with-token-010001ec-from-typeref-expected-class-ad1-in-assembly-obfuzruntime-version0000-cultureneutral-publickeytokennull",children:"TypeLoadException: Could not resolve type with token 010001ec from typeref (expected class '$a.$d`1' in assembly 'Obfuz.Runtime, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null')"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Do not test and run the obfuscated code in the Editor."})}),"\n",(0,i.jsx)(n.p,{children:'In the Editor, the original unobfuscated code of the obfuscated assemblies (including Obfuz.Runtime) already exists. The obfuscated assemblies reference obfuscated types and functions, which will cause runtime errors such as "type not found"!'}),"\n",(0,i.jsx)(n.p,{children:"If you must test it, disable obfuscation for Obfuz.Runtime, then copy the obfuscated assemblies (DLLs) into a new Unity project where the original source code of the obfuscated assemblies has been removed."}),"\n",(0,i.jsx)(n.h3,{id:"exceptionthe-type-initializer-for-obfuzrva-threw-an-exception-stack--at-",children:(0,i.jsx)(n.code,{children:"exception:The type initializer for '$$Obfuz$RVA$' threw an exception., stack:  at ..."})}),"\n",(0,i.jsxs)(n.p,{children:["This occurs when obfuscated code runs before ",(0,i.jsx)(n.code,{children:"EncrytionService<T>::Encryptor"})," is initialized. Solution: Initialize ",(0,i.jsx)(n.code,{children:"EncryptionService<T>::Encryptor"})," first. See [Initialize Encryptor](../manual/encryption.md#initializing encryptor) for details."]}),"\n",(0,i.jsx)(n.h2,{id:"other-questions",children:"Other Questions"}),"\n",(0,i.jsx)(n.h3,{id:"does-obfuz-have-any-limitations-on-code",children:"Does Obfuz have any limitations on code?"}),"\n",(0,i.jsx)(n.p,{children:"No."}),"\n",(0,i.jsx)(n.h3,{id:"can-obfuz-obfuscate-chinese-type-names-or-fields",children:"Can Obfuz obfuscate Chinese type names or fields?"}),"\n",(0,i.jsx)(n.p,{children:"Yes."}),"\n",(0,i.jsx)(n.h3,{id:"how-much-impact-does-obfuz-have-on-performance",children:"How much impact does Obfuz have on performance?"}),"\n",(0,i.jsx)(n.p,{children:"All obfuscation passes except Symbol Obfuscation affect performance, but the exact impact varies. If you notice significant performance degradation, consider disabling unnecessary passes or using rules to exclude specific code from obfuscation."})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}}}]);