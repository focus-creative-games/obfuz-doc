"use strict";(self.webpackChunkobfuz=self.webpackChunkobfuz||[]).push([[637],{3089:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>u,default:()=>b,frontMatter:()=>s,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"manual/customattributes","title":"Obfuz CustomAttributes","description":"Obfuz\u63d0\u4f9b\u4e86\u591a\u79cdCustomAttribute\uff0c\u65b9\u4fbf\u76f4\u63a5\u5728\u4ee3\u7801\u4e2d\u914d\u7f6e\u6df7\u6dc6\u89c4\u5219\u3002\u76ee\u524d\u652f\u6301\u7684CustomAttribute\u6709\uff1a","source":"@site/docs/manual/customattributes.md","sourceDirName":"manual","slug":"/manual/customattributes","permalink":"/docs/manual/customattributes","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/manual/customattributes.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Obfuscation Pass","permalink":"/docs/manual/obfuscation-pass"},"next":{"title":"\u7b26\u53f7\u6df7\u6dc6","permalink":"/docs/manual/symbol-obfuscation"}}');var r=t(4848),l=t(8453);const s={},u="Obfuz CustomAttributes",c={},o=[{value:"ObfuzIgnoreAttribute",id:"obfuzignoreattribute",level:2},{value:"\u5b9a\u4e49",id:"\u5b9a\u4e49",level:3},{value:"\u4f5c\u7528\u76ee\u6807",id:"\u4f5c\u7528\u76ee\u6807",level:3},{value:"\u5176\u4ed6\u8bf4\u660e",id:"\u5176\u4ed6\u8bf4\u660e",level:3},{value:"\u793a\u4f8b\u4ee3\u7801",id:"\u793a\u4f8b\u4ee3\u7801",level:3},{value:"EncryptFieldAttribute",id:"encryptfieldattribute",level:2}];function d(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"obfuz-customattributes",children:"Obfuz CustomAttributes"})}),"\n",(0,r.jsxs)(n.p,{children:["Obfuz\u63d0\u4f9b\u4e86\u591a\u79cd",(0,r.jsx)(n.code,{children:"CustomAttribute"}),"\uff0c\u65b9\u4fbf\u76f4\u63a5\u5728\u4ee3\u7801\u4e2d\u914d\u7f6e\u6df7\u6dc6\u89c4\u5219\u3002\u76ee\u524d\u652f\u6301\u7684CustomAttribute\u6709\uff1a"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"ObfuzIgnoreAttribute"}),"\n",(0,r.jsx)(n.li,{children:"EncryptFieldAttribute"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"obfuzignoreattribute",children:"ObfuzIgnoreAttribute"}),"\n",(0,r.jsx)(n.h3,{id:"\u5b9a\u4e49",children:"\u5b9a\u4e49"}),"\n",(0,r.jsx)(n.p,{children:"ObfuzIgnoreAttribute\u7684\u4ee3\u7801\u5b9e\u73b0\u5982\u4e0b\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-csharp",children:"\n    [AttributeUsage(AttributeTargets.All, Inherited = false, AllowMultiple = false)]\n    public class ObfuzIgnoreAttribute : Attribute\n    {\n        public ObfuzScope Scope { get; set; }\n\n        public bool ApplyToNestedTypes { get; set; } = true;\n\n        public bool ApplyToChildTypes { get; set; } = false;\n\n        public ObfuzIgnoreAttribute(ObfuzScope scope = ObfuzScope.All)\n        {\n            this.Scope = scope;\n        }\n    }\n\n"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u53c2\u6570"}),(0,r.jsx)(n.th,{children:"\u63cf\u8ff0"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"scope"}),(0,r.jsx)(n.td,{children:"\u6df7\u6dc6\u4f5c\u7528\u8303\u56f4\u3002\u7c7b\u578b\u4e3aObfuzScope\uff0c\u9ed8\u8ba4\u503c\u4e3aObfuzscope.All\uff0c\u5373\u4f1a\u7981\u7528\u7c7b\u578b\u540d\u3001\u5b57\u6bb5\u3001\u51fd\u6570\u3001property\u3001event\u53ca\u5b50\u7c7b\u578b\u7684\u6240\u6709\u6df7\u6dc6"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"ApplyToNestedTypes"}),(0,r.jsx)(n.td,{children:"\u5d4c\u5957\u5b50\u7c7b\u578b\u662f\u5426\u7ee7\u627f\u5f53\u524dObfuzIgnoreAttribute\uff0c\u5982\u679c\u4e3atrue\uff0c\u6240\u6709\u5d4c\u5957\u5b50\u7c7b\u578b\u4e5f\u4f1a\u7b49\u540c\u5b9a\u4e49\u4e86\u5f53\u524d\u7684ObfuzIgnoreAttribute\u3002\u9ed8\u8ba4\u4e3atrue\u3002\u6b64\u53c2\u6570\u53ea\u5bf9\u7c7b\u578b\u6709\u6548\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"ApplyToChildTypes"})}),(0,r.jsx)(n.td,{children:"\u7ee7\u627f\u672c\u7c7b\u578b\u6216\u8005\u5b9e\u73b0\u672c\u63a5\u53e3\u7c7b\u578b\u7684\u5b50\u7c7b\u578b\u662f\u5426\u7ee7\u627f\u5f53\u524dObfuzIgnoreAttribute\u3002\u5982\u679c\u4e3atrue\uff0c\u6240\u6709\u5b50\u7c7b\u578b\u4e5f\u4f1a\u7b49\u540c\u5b9a\u4e49\u4e86\u5f53\u524d\u7684ObfuzIgnoreAttribute\uff0c\u9664\u4e86ApplyToNestedTypes\u5c5e\u6027\u503c\u3002\u9ed8\u8ba4\u4e3afalse\u3002\u6b64\u53c2\u6570\u53ea\u5bf9\u7c7b\u578b\u6709\u6548\u3002"})]})]})]}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsx)(n.p,{children:"ApplyToChildTypes\u53ef\u4ee5\u65b9\u4fbf\u5730\u5c06\u4ece\u67d0\u4e2aclass\u6216\u8005interface\u6d3e\u751f\u7684\u7c7b\u578b\u7edf\u4e00\u65bd\u52a0\u67d0\u79cd\u6df7\u6dc6\u89c4\u5219\u3002"})}),"\n",(0,r.jsx)(n.p,{children:"\u679a\u4e3e\u7c7bObfuzScope\u7684\u5b9e\u73b0\u5982\u4e0b\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-csharp",children:"    [Flags]\n    public enum ObfuzScope\n    {\n        None = 0x0,\n        TypeName = 0x1,\n        Field = 0x2,\n        MethodName = 0x4,\n        MethodParameter = 0x8,\n        MethodBody = 0x10,\n        Method = MethodName | MethodParameter | MethodBody,\n        PropertyName = 0x20,\n        PropertyGetterSetterName = 0x40,\n        Property = PropertyName | PropertyGetterSetterName,\n        EventName = 0x100,\n        EventAddRemoveFireName = 0x200,\n        Event = EventName | PropertyGetterSetterName,\n        Module = 0x1000,\n        All = TypeName | Field | Method | Property | Event,\n    }\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"\u4f5c\u7528\u76ee\u6807",children:"\u4f5c\u7528\u76ee\u6807"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"ObfuzIgnoreAttribute"}),"\u53ef\u4ee5\u6dfb\u52a0\u5230\u7c7b\u578b\u3001\u51fd\u6570\u3001\u5b57\u6bb5\u3001Property\u3001event\u4e0a\uff0c\u88ab\u6dfb\u52a0\u7684\u5143\u6570\u636e\u4f1a\u88ab\u7981\u7528Scope\u4e2d\u6307\u5b9a\u7684\u6df7\u6dc6\u64cd\u4f5c\u3002"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"[ObfuzIgnore]\u6dfb\u52a0\u7684\u76ee\u6807"}),(0,r.jsx)(n.th,{children:"\u63cf\u8ff0"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"\u7c7b\u578b"}),(0,r.jsx)(n.td,{children:"\u8be5\u7c7b\u578b\u53ca\u6240\u6709\u5185\u5d4c\u5b50\u7c7b\u578b\u3001\u6210\u5458\u5b57\u6bb5\u3001\u51fd\u6570\u3001Property\u3001event\u90fd\u4e0d\u4f1a\u88ab\u6df7\u6dc6"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"\u51fd\u6570"}),(0,r.jsx)(n.td,{children:"\u8be5\u51fd\u6570\u540d\u53ca\u53c2\u6570\u53ca\u51fd\u6570\u4f53\u90fd\u4e0d\u4f1a\u88ab\u6df7\u6dc6\u3002\u6ce8\u610f\uff01\u51fd\u6570\u4ee3\u7801\u4e2d\u5f15\u7528\u7684\u7b26\u53f7\u5982\u679c\u88ab\u6df7\u6dc6\u6216\u8005\u52a0\u5bc6\uff0c\u5219\u4ecd\u7136\u4f1a\u88ab\u66ff\u6362\u4e3a\u6df7\u6dc6\u540e\u7684\u7248\u672c\u3002\u663e\u7136\u5fc5\u987b\u8fd9\u4e48\u505a\u624d\u80fd\u4fdd\u8bc1\u6b63\u786e\u6027\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"\u5b57\u6bb5"}),(0,r.jsx)(n.td,{children:"\u4f1a\u88ab\u7981\u7528\u7b26\u53f7\u6df7\u6dc6\u3001\u5b57\u6bb5\u52a0\u5bc6\u5728\u5185\u7684\u6240\u6709\u53ef\u4f5c\u7528\u4e8e\u5b57\u6bb5\u7684\u6df7\u6dc6\u64cd\u4f5c"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"property"}),(0,r.jsx)(n.td,{children:"\u4f1a\u88ab\u7981\u7528\u7b26\u53f7\u6df7\u6dc6\u5728\u5185\u7684\u6240\u6709\u53ef\u4f5c\u7528\u4e8eProperty\u7684\u6df7\u6dc6\u64cd\u4f5c"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"event"}),(0,r.jsx)(n.td,{children:"\u4f1a\u88ab\u7981\u7528\u7b26\u53f7\u6df7\u6dc6\u5728\u5185\u7684\u6240\u6709\u53ef\u4f5c\u7528\u4e8eevent\u7684\u6df7\u6dc6\u64cd\u4f5c"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"\u5176\u4ed6\u8bf4\u660e",children:"\u5176\u4ed6\u8bf4\u660e"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"[ObfuzIgnore]"}),"\u4e0d\u80fd\u7528\u4e8eAssembly\u5bf9\u8c61\uff0c\u4f8b\u5982",(0,r.jsx)(n.code,{children:"[assembly: ObfuzIgnore]"}),"\u4e0d\u4f1a\u4efb\u4f55\u6548\u679c\u3002\u60f3\u5bf9\u67d0\u4e2a\u7a0b\u5e8f\u96c6\u7981\u7528\u6df7\u6dc6\uff0c\n\u53ea\u9700\u8981\u5c06\u5b83\u4ece\u6df7\u6dc6\u5217\u8868",(0,r.jsx)(n.code,{children:"AssemblySettings.AssemblyToObfuscate"}),"\u79fb\u9664\u5373\u53ef\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"[ObfuzIgnore]"}),"\u4f1a\u5728\u6700\u540e\u7684RemoveObfuzAttributesPass\u4e2d\u88ab\u79fb\u9664\uff0c\u56e0\u6b64\u5b83\u53ea\u4f1a\u51fa\u73b0\u5728\u6e90\u7801\u548c\u539f\u59cb\u7a0b\u5e8f\u96c6\u4e2d\uff0c\u4e0d\u4f1a\u51fa\u73b0\u5728\u6700\u7ec8\u7684\u6df7\u6dc6\u540e\u7684\u7a0b\u5e8f\u96c6\u4e2d\u3002"]}),"\n",(0,r.jsx)(n.h3,{id:"\u793a\u4f8b\u4ee3\u7801",children:"\u793a\u4f8b\u4ee3\u7801"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-csharp",children:'\n  // \u672c\u7c7b\u578b\u53ca\u5d4c\u5957\u7c7b\u578b\u7684\u7c7b\u578b\u540d\u3001\u5b57\u6bb5\u3001\u51fd\u6570\u3001property\u3001event\u90fd\u4e0d\u4f1a\u88ab\u6df7\u6dc6\n    [ObfuzIgnore]\n    public class TestObfuzIgnoreAll\n    {\n        public int x;\n        public int Value { get; set; }\n\n        public void Run()\n        {\n            Console.WriteLine("TestObfuzIgnore.Run");\n        }\n\n        public event Action Handler;\n\n        public class NestedType1\n        {\n            public int x;\n            public int Value { get; set; }\n\n            public void Run()\n            {\n                Console.WriteLine("TestObfuzIgnore.Run");\n            }\n\n            public event Action Handler;\n\n            public class NestedType2\n            {\n                public int x;\n                public int Value { get; set; }\n\n                public void Run()\n                {\n                    Console.WriteLine("TestObfuzIgnore.Run");\n                }\n\n                public event Action Handler;\n            }\n        }\n    }\n\n    // \u672c\u7c7b\u578b\u53ca\u5d4c\u5957\u7c7b\u578b\u7684\u7c7b\u578b\u540d\u3001\u5b57\u6bb5\u3001\u51fd\u6570\u3001property\u3001event\u90fd\u4f1a\u88ab\u6df7\u6dc6\n    [ObfuzIgnore(ObfuzScope.None)]\n    public class TestObfuzIgnoreNone\n    {\n        public int x;\n        public int Value { get; set; }\n\n        public void Run()\n        {\n            Console.WriteLine("TestObfuzIgnore.Run");\n        }\n\n        public event Action Handler;\n\n        public class NestedType1\n        {\n            public int x;\n            public int Value { get; set; }\n\n            public void Run()\n            {\n                Console.WriteLine("TestObfuzIgnore.Run");\n            }\n\n            public event Action Handler;\n\n            public class NestedType2\n            {\n                public int x;\n                public int Value { get; set; }\n\n                public void Run()\n                {\n                    Console.WriteLine("TestObfuzIgnore.Run");\n                }\n\n                public event Action Handler;\n            }\n        }\n    }\n\n    \n    // \u6b64\u7c7b\u578b\u53ca\u5d4c\u5957\u5b50\u7c7b\u578b\u7684\u7c7b\u578b\u540d\u4e0d\u4f1a\u88ab\u6df7\u6dc6\uff0c\u5b83\u4eec\u7684\u5b57\u6bb5\u3001property\u3001event\u3001\u51fd\u6570\u5168\u90e8\u4f1a\u88ab\u6df7\u6dc6\n    [ObfuzIgnore(ObfuzScope.TypeName)]\n    public class TestObfuzIgnoreTypeName\n    {\n        public int x; // \u88ab\u6df7\u6dc6\n        public int Value { get; set; } // \u88ab\u6df7\u6dc6\n\n        public void Run() // \u88ab\u6df7\u6dc6\n        {\n            Console.WriteLine("TestObfuzIgnore.Run");\n        }\n\n        public event Action Handler; // \u88ab\u6df7\u6dc6\n\n        public class NestedType1 // \u4e0d\u4f1a\u88ab\u6df7\u6dc6\n        {\n            public int x; // \u88ab\u6df7\u6dc6\n            public int Value { get; set; } // \u88ab\u6df7\u6dc6\n\n            public void Run() // \u88ab\u6df7\u6dc6\n            {\n                Console.WriteLine("TestObfuzIgnore.Run");\n            }\n\n            public event Action Handler; // \u88ab\u6df7\u6dc6\n\n            public class NestedType2 // \u88ab\u6df7\u6dc6\n            {\n                public int x; // \u88ab\u6df7\u6dc6\n                public int Value { get; set; } // \u88ab\u6df7\u6dc6\n\n                public void Run() // \u88ab\u6df7\u6dc6\n                {\n                    Console.WriteLine("TestObfuzIgnore.Run");\n                }\n\n                public event Action Handler; // \u88ab\u6df7\u6dc6\n            }\n        }\n    }\n\n    // \u6b64\u7c7b\u578b\u53ca\u5d4c\u5957\u7c7b\u578b\u7684\u5b57\u6bb5\u4e0d\u4f1a\u88ab\u6df7\u6dc6\uff0c\u4f46\u7c7b\u578b\u540d\u53camethod\u3001event\u3001property\u4ecd\u7136\u4f1a\u88ab\u6df7\u6dc6\n    [ObfuzIgnore(ObfuzScope.Field)]\n    public class TestObfuzIgnoreField\n    {\n        public int x;\n        public int Value { get; set; }\n\n        public void Run()\n        {\n            Console.WriteLine("TestObfuzIgnore.Run");\n        }\n\n        public event Action Handler;\n\n        public class NestedType1\n        {\n            public int x;\n            public int Value { get; set; }\n\n            public void Run()\n            {\n                Console.WriteLine("TestObfuzIgnore.Run");\n            }\n\n            public event Action Handler;\n\n            public class NestedType2\n            {\n                public int x;\n                public int Value { get; set; }\n\n                public void Run()\n                {\n                    Console.WriteLine("TestObfuzIgnore.Run");\n                }\n\n                public event Action Handler;\n            }\n        }\n    }\n'})}),"\n",(0,r.jsx)(n.h2,{id:"encryptfieldattribute",children:"EncryptFieldAttribute"}),"\n",(0,r.jsx)(n.p,{children:"EncryptFieldAttribute\u63d0\u4f9b\u4ee3\u7801\u4e2d\u4fbf\u6377\u5730\u6807\u8bb0\u67d0\u4e2a\u5b57\u6bb5\u4e3a\u52a0\u5bc6\u5b57\u6bb5\u7684\u529e\u6cd5\u3002"}),"\n",(0,r.jsxs)(n.p,{children:["\u5b83\u7684\u4f18\u5148\u7ea7\u9ad8\u4e8eObfuscation Pass\u89c4\u5219\u548c",(0,r.jsx)(n.code,{children:"[ObfuzIgnore]"}),"\u3002\u53ea\u8981\u5bf9\u67d0\u4e2a\u5b57\u6bb5\u6dfb\u52a0\u4e86",(0,r.jsx)(n.code,{children:"[EncryptField]"}),"\u7279\u6027\uff0c\u5373\u4f7f\u5b57\u6bb5\u53ca\u6240\u5728\u7c7b\u578b\u6709",(0,r.jsx)(n.code,{children:"[ObfuzIgnore]"}),"\u7279\u6027\uff0c\u4ecd\u7136\u4f1a\u88ab\u52a0\u5bc6\u3002"]}),"\n",(0,r.jsx)(n.p,{children:"\u793a\u4f8b\u4ee3\u7801\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-csharp",children:"\n[ObfuzIgnore]\nclass A\n{\n  [EncryptField]\n  public int x1; // \u53d8\u91cfx1\u4ecd\u7136\u4f1a\u88ab\u52a0\u5bc6\uff0c\u65e0\u89c6\u7c7b\u578b\u4e0a\u7684[ObfuzIgnore]\n  \n  [ObfuzIgnore]\n  [EncryptField]\n  public int x2; // \u53d8\u91cfx2\u4ecd\u7136\u4f1a\u88ab\u52a0\u5bc6\uff0c\u65e0\u89c6\u5b57\u6bb5\u4e0a\u7684[ObfuzIgnore]\n\n  public int y; // \u53d8\u91cfy\u4e0d\u4f1a\u52a0\u5bc6\uff0c\u4e5f\u4e0d\u4f1a\u88ab\u91ca\u52a0\u4efb\u4f55\u6df7\u6dc6\u6216\u52a0\u5bc6Pass\n}\n\n"})})]})}function b(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>u});var i=t(6540);const r={},l=i.createContext(r);function s(e){const n=i.useContext(l);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function u(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);