<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-manual/symbol-obfuscation" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">符号混淆 | Obfuz</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://www.obfuz.com/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://www.obfuz.com/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://www.obfuz.com/docs/manual/symbol-obfuscation"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="符号混淆 | Obfuz"><meta data-rh="true" name="description" content="符号指的是程序集元带名字的元数据。符号混淆会将这些符号的名称替换为混淆名，同时修复所有引用了这个符号的元数据，确保引用正确性。"><meta data-rh="true" property="og:description" content="符号指的是程序集元带名字的元数据。符号混淆会将这些符号的名称替换为混淆名，同时修复所有引用了这个符号的元数据，确保引用正确性。"><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://www.obfuz.com/docs/manual/symbol-obfuscation"><link data-rh="true" rel="alternate" href="https://www.obfuz.com/docs/manual/symbol-obfuscation" hreflang="en"><link data-rh="true" rel="alternate" href="https://www.obfuz.com/docs/manual/symbol-obfuscation" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.ff9dae79.css">
<script src="/assets/js/runtime~main.1972320a.js" defer="defer"></script>
<script src="/assets/js/main.b32dcebc.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="Obfuz Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.png" alt="Obfuz Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Obfuz</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">文档</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/focus-creative-games/obfuz" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">简介</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/getting-started">入门</a><button aria-label="Expand sidebar category &#x27;入门&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/manual">手册</a><button aria-label="Collapse sidebar category &#x27;手册&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/manual/installation">安装</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/manual/configuration">设置</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/manual/menu">Editor菜单</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/manual/assembly">程序集</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/manual/encryption">加密</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/manual/method-body-obfuscation">函数体混淆</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/manual/obfuscation-pass">Obfuscation Pass</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/manual/customattributes">Obfuz CustomAttributes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/manual/symbol-obfuscation">符号混淆</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/manual/const-encryption">常量加密</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/manual/field-encryption">字段加密</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/manual/call-obfuscation">函数调用混淆</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/manual/build-pipeline">构建过程中执行混淆</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/manual/run-obfuscation-standalonely">单独执行混淆</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/manual/incremental-obfuscation-and-hotupdate">增量混淆与代码热更新</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/manual/work-with-hybridclr">与HybridCLR协同工作</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/manual/serialization-reflection">反射与序列化</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/manual/deobfuscate-stacktrace">还原混淆堆栈日志</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/help">帮助</a><button aria-label="Expand sidebar category &#x27;帮助&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/help/releaselog">发布日志</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/manual"><span itemprop="name">手册</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">符号混淆</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>符号混淆</h1></header>
<p>符号指的是程序集元带名字的元数据。符号混淆会将这些符号的名称替换为混淆名，同时修复所有引用了这个符号的元数据，确保引用正确性。</p>
<p>符号混淆支持混淆以下元数据：</p>
<ul>
<li>类型名（含命名空间）</li>
<li>字段名</li>
<li>函数名</li>
<li>函数参数</li>
<li>Property名</li>
<li>event 名</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="设置">设置<a href="#设置" class="hash-link" aria-label="Direct link to 设置" title="Direct link to 设置">​</a></h2>
<p><code>ObfuzSettings.SymbolObfusSettings</code>中包含了混淆相关的设置。详细见<a href="/docs/manual/configuration">设置</a>。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="symbol-mapping文件">symbol mapping文件<a href="#symbol-mapping文件" class="hash-link" aria-label="Direct link to symbol mapping文件" title="Direct link to symbol mapping文件">​</a></h2>
<p>为了保证混淆稳定性，使用symbol mapping文件记录了新旧符号之间的映射关系，每次混淆时Obfuz会尽量使用上一次的混淆后的名称，除非意外遇到名称冲突。</p>
<p>symbol mapping是自动生成的，一般不需要手动修改。请将符号映射文件加入版本管理，以使得每次混淆都能产生固定的名称映射。如果你希望每次混淆
后的名称跟之前不一样，可以在混淆前删除symbol mapping文件。</p>
<p><code>SymbolObfusSettings.SymbolMappingFile</code>字段中配置了symbol mapping文件的路径，默认值为<code>Assets/Obfuz/SymbolObfus/symbol-mapping.xml</code>。</p>
<p>由于symbol mapping文件保存了函数混淆前后的映射关系，因此symbol mapping也被用于<a href="/docs/manual/deobfuscate-stacktrace">还原混淆堆栈日志</a>。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="混淆名前缀">混淆名前缀<a href="#混淆名前缀" class="hash-link" aria-label="Direct link to 混淆名前缀" title="Direct link to 混淆名前缀">​</a></h2>
<p>为了方便区分旧名称和混淆后的名称，混淆名默认都会添加<code>$</code>前缀。<code>SymbolObfusSettings.ObfuscatedNamePrefix</code>字段配置了该前缀字符串。
如果不希望使用这个前缀，可以改为自定义的字符串。前缀字符串也可以为空，不影响混淆正确性。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="namespace混淆">Namespace混淆<a href="#namespace混淆" class="hash-link" aria-label="Direct link to Namespace混淆" title="Direct link to Namespace混淆">​</a></h2>
<p>默认情况下，为了保持命名空间结构，相同的Namespace会映射到同一个混淆后的Namespace。<code>SymbolObfusSettings.UseConsistentNamespace</code>字段中
配置了这个行为，默认为true。如果不想保持相同映射，可以禁用这个选项。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="debug模式">Debug模式<a href="#debug模式" class="hash-link" aria-label="Direct link to Debug模式" title="Direct link to Debug模式">​</a></h2>
<p>默认情况下，生成的混淆名类似于<code>$a</code>之类，如果不去查看symbol mapping文件，很难从代码中得知原始名是哪个。这给追踪符号混淆引发的bug时，带来较多不便，
因此Obfuz特地支持了Debug模式。在Debug模式下，会将<code>Name</code>映射为<code>$Name</code>，可以直接看出原始名是什么，方便调试追踪。</p>
<p>Debug模式下的混淆规则是固定的，即<code>Name</code>映射为<code>$Name</code>。如果遇到名称冲突，会尝试<code>$Name1</code>、<code>$Name2</code>直到找到不冲突的名字。因此Debug模式下会
<strong>忽略</strong>symbol mapping文件，既不会加载它，也不会混淆完成后更新它。</p>
<p>Debug模式混淆名不受混淆名前缀配置的影响。以<code>Name</code>为例，即使你将前缀改为<code>#</code>，Debug模式下生成的混淆依然是<code>$Name</code>而不是<code>#Name</code>。</p>
<p><code>SymbolObfusSettings.Debug</code>字段配置了是否开启Debug模式，默认关闭。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="默认禁用符号混淆的目标">默认禁用符号混淆的目标<a href="#默认禁用符号混淆的目标" class="hash-link" aria-label="Direct link to 默认禁用符号混淆的目标" title="Direct link to 默认禁用符号混淆的目标">​</a></h2>
<p>Obfuz已经尽力考虑Unity引擎下常见的需要禁用混淆名称的场合，以下目标不会被混淆，也不会受规则文件的影响:</p>
<ul>
<li>继承自MonoBehaviour或ScriptableObject或标记了<code>[Serializable]</code>（我们统称这三类为可序列化类）的脚本类的名称</li>
<li>可序列化类脚本类中Awake、Start之类的事件函数</li>
<li>可序列化类中public类型可序列化字段或者<code>[SerializedField]</code>特性标记的字段</li>
<li>delegate的成员字段及函数</li>
<li>enum的私有字段</li>
<li>标记了<code>[RuntimeInitializeOnLoadMethod]</code>的函数及它的父类名（否则Unity无法根据类型和函数名找到此函数）</li>
<li>标记了Unity.Behaviour模块的<code>[BlackboardEnum]</code>特性的枚举类的类名极其枚举项名称</li>
<li>其他情况</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="自定义renamepolicy">自定义RenamePolicy<a href="#自定义renamepolicy" class="hash-link" aria-label="Direct link to 自定义RenamePolicy" title="Direct link to 自定义RenamePolicy">​</a></h2>
<p><code>SymbolObfusSettings.CustomRenamePolicyTypes</code>中可以配置0到多个自定义RenamePolicy的类型全名。因为这个类型全名不含程序集名，因此要求这个类型全名在AppDomain所有程序集中唯一。</p>
<p>自定义RenamePolicy必须实现<code>Obfuz.ObfusPasses.SymbolObfus.IObfuscationPolicy</code>接口或者继承自<code>Obfuz.ObfusPasses.SymbolObfus.Policies.ObfuscationPolicyBase</code>，并且有一个参数为object类型的构造函数。示例如下：</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">using Obfuz.ObfusPasses.SymbolObfus.Policies;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class MyRenamePolicy : ObfuscationPolicyBase</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public MyRenamePolicy(object systemRenameObj)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public override bool NeedRename(dnlib.DotNet.TypeDef typeDef)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return typeDef.Name != &quot;TestClassForCustomRenamePolicy&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public override bool NeedRename(dnlib.DotNet.MethodDef methodDef)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return methodDef.Name != &quot;MethodForCustomRenamePolicy&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public override bool NeedRename(dnlib.DotNet.FieldDef fieldDef)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return fieldDef.Name != &quot;fieldForCustomRenamePolicy&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public override bool NeedRename(dnlib.DotNet.PropertyDef propertyDef)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return propertyDef.Name != &quot;PropertyForCustomRenamePolicy&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public override bool NeedRename(dnlib.DotNet.EventDef eventDef)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return eventDef.Name != &quot;EventForCustomRenamePolicy&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="规则文件">规则文件<a href="#规则文件" class="hash-link" aria-label="Direct link to 规则文件" title="Direct link to 规则文件">​</a></h2>
<p>实践中仍然可能需要更精准地控制混淆范围和效果，Obfuz通过规则文件来实现精细的符号混淆控制，允许配置多个规则文件。</p>
<p>规则文件示例如下：</p>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token prolog" style="color:#999988;font-style:italic">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">obfuz</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">assembly</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">Obfuscated</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">type</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">xxxx</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">obName</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">1</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">applyToMembers</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">none,field,methodName,method,propertyName,propertyGetterSetterName,property,eventName,eventAddRemoveFireName,event,all,*</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">        </span><span class="token tag attr-name" style="color:#00a4db">applyToNestedTypes</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">1</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">        </span><span class="token tag attr-name" style="color:#00a4db">modifier</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">public,protected,private</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">        </span><span class="token tag attr-name" style="color:#00a4db">classType</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">class,struct,enum,interface,delegate</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">        </span><span class="token tag attr-name" style="color:#00a4db">inheritTypes</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">Unity.Entities.IComponentData,MyInterface</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">        </span><span class="token tag attr-name" style="color:#00a4db">hasCustomAttributes</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">test.MyCustomAttribute1,test.MyCustomAttribute2</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">        </span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">field</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">f</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">obName</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">0</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">modifier</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">public,protected,private</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">method</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">m</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">obName</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">0</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">modifier</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">public,protected,private</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">property</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">p</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">obName</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">0</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">applyToMembers</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">propertyGetterSetterName</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">event</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">e</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">obName</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">0</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">applyToMembers</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">eventAddRemoveFireName</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">type</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">type</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">Aaaa.TopClass/SubClass</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">type</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">assembly</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">assembly</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">Tests</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">assembly</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">obfuz</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>顶层tag必须是obfuz，次级tag必须是assembly。</p>
<p>所有目标(assembly、type、field、method、property、event)都<strong>允许定义多条与它匹配的规则</strong>，以最后一个obName不为空的规则的值为准。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="nullable-bool类型">nullable bool类型<a href="#nullable-bool类型" class="hash-link" aria-label="Direct link to nullable bool类型" title="Direct link to nullable bool类型">​</a></h3>
<p>obName、applyToMembers、applyToMethods之类的属性为可空bool属性，它的解析规则如下：</p>
<ul>
<li>如果未设置或者为长度为零的字符串，则解析为null</li>
<li>如果为0、false则解析为false</li>
<li>如果为1、true则解析为true</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="modifier-类型">modifier 类型<a href="#modifier-类型" class="hash-link" aria-label="Direct link to modifier 类型" title="Direct link to modifier 类型">​</a></h2>
<p>type、method、field、event、property都可以定义modifier属性，指示此项规则只哪些可见类型的目标生效。modifier如果为空，对所有可见类型的都生效。如果非空，可以是以下值的<strong>组合</strong>，以<code>,</code>分割：</p>
<ul>
<li>public。 对public元数据都生效。如果目标是public嵌套类型，即使包围它的类型不是public，也匹配此条规则。</li>
<li>protected。 对protected 元数据生效。如果目标是protected嵌套类型，即使包围它的类型不是public或者protected，也匹配此条规则。</li>
<li>private。 对private 元数据生效。如果目标是private嵌套类型，无论包围它的类型的可见性如何都匹配此条规则。</li>
</ul>
<p>例如想仅对public和protected生效，可以可以配置为<code>public|protected</code>。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="classtype-类型">classType 类型<a href="#classtype-类型" class="hash-link" aria-label="Direct link to classType 类型" title="Direct link to classType 类型">​</a></h2>
<p>type规则可以定义classType属性，指示当前规则对哪种类型生效。 classType如果为空，对<strong>所有类型都生效</strong>。如果非空，可以是以下值的<strong>组合</strong>，以<code>,</code>分割：</p>
<ul>
<li>class。 对普通类型生效，不包含struct、enum、interface、delegate。</li>
<li>struct。 对普通值类型生效，不包括enum。</li>
<li>interface。对接口类型生效。</li>
<li>enum。 对枚举类型生效。</li>
<li>delegate。对delegate类型生效。</li>
</ul>
<p>例如你想对所有非值类型生效，则可以配置为<code>class|interface|delegate</code>。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="applytomember类型">applyToMember类型<a href="#applytomember类型" class="hash-link" aria-label="Direct link to applyToMember类型" title="Direct link to applyToMember类型">​</a></h2>
<p>applyToMember类型描述了对哪些元数据不混淆。可以为空，表示不作用于任何目标，或者是以下组合，以<code>,</code>分割：</p>
<table><thead><tr><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>none</td><td>不作用于任何目标</td></tr><tr><td>field</td><td>作用于字段名</td></tr><tr><td>method</td><td>作用于函数名</td></tr><tr><td>propertyName</td><td>作用于property名，但不包含getter和setter函数名</td></tr><tr><td>propertyGetterSetterName</td><td>作用于getter和setter函数名，但不包含property名</td></tr><tr><td>property</td><td>等价于propertyName和propertyGetterSetterName的组合，作用于property名及getter和setter函数名</td></tr><tr><td>eventName</td><td>作用于event名，但不包含add和remove和fire函数名</td></tr><tr><td>eventAddRemoveFireName</td><td>作用于add和remove和fire函数名，但不包含event名</td></tr><tr><td>event</td><td>等价于eventName和eventAddRemoveFireName的组合，作用于event名、add和remove和fire函数名</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="assembly-配置规则">assembly 配置规则<a href="#assembly-配置规则" class="hash-link" aria-label="Direct link to assembly 配置规则" title="Direct link to assembly 配置规则">​</a></h3>
<table><thead><tr><th>属性</th><th>可空</th><th>描述</th></tr></thead><tbody><tr><td>name</td><td>否</td><td>name必须是被混淆的程序集，即必须在<code>AssemblySettings.AssemblyToObfuscate</code>出现。一个assembly可以有多个assembly规则</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="type-配置规则">type 配置规则<a href="#type-配置规则" class="hash-link" aria-label="Direct link to type 配置规则" title="Direct link to type 配置规则">​</a></h3>
<table><thead><tr><th>属性</th><th>可空</th><th>描述</th></tr></thead><tbody><tr><td>name</td><td>是</td><td>name为通配符表达式。如果为空则表示匹配所有类型。嵌套类型使用<code>/</code>划分声明所在类型和被包围的子类型，如<code>test.ClassA/ClassB</code>。</td></tr><tr><td>modifier</td><td>是</td><td>匹配哪些可见类型的目标</td></tr><tr><td>classType</td><td>是</td><td>匹配哪种classType</td></tr><tr><td><strong>inherit</strong></td><td>是</td><td>继承了某些类型或者实现了某些接口，可以配置多个，表示从其中任意一个继承。默认为空，跳过匹配检查。类型或者接口需要填全名但不区分程序集。例如<code>test.MyInterface</code>在两个程序集中都有定义，那么实现任何一个接口都认为是符合条件</td></tr><tr><td><strong>hasCustomAttributes</strong></td><td>是</td><td>类型上是否有某些CustomAttribute。默认为空，跳过此项匹配检查。可以配置多个，表示包含其中至少一个CustomAttribute。CustomAttribute名需要为全名但不区分程序集</td></tr><tr><td>obName</td><td>是</td><td>表示是否混淆本类型的命名空间和类型名。如果自身是嵌套子类型没有设置则优先继承ApplyToMember为true的嵌套父类的obName，如果找不到可继承的值，则默认为true</td></tr><tr><td>applyToMembers</td><td>是</td><td>obName值的额外作用目标。默认值为空，不会作用于任何成员目标</td></tr><tr><td>applyToNestedTypes</td><td>是</td><td>是否将obName属性的值应用于所有嵌套子类型（包括嵌套子类型的嵌套子类型）。默认为true。</td></tr></tbody></table>
<p>type允许定义field、method、property、event类型的子元素。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="field-配置规则">field 配置规则<a href="#field-配置规则" class="hash-link" aria-label="Direct link to field 配置规则" title="Direct link to field 配置规则">​</a></h3>
<table><thead><tr><th>属性</th><th>可空</th><th>描述</th></tr></thead><tbody><tr><td>name</td><td>是</td><td>name为通配符表达式。如果为空则表示匹配所有类型</td></tr><tr><td>modifier</td><td>是</td><td>指示匹配哪些可见类型的目标</td></tr><tr><td>obName</td><td>是</td><td>表示是否混淆字段名。如果obName为空，则尝试继承applyToMembers属性包含<code>field</code>的所在type的obName值</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="property-配置规则">property 配置规则<a href="#property-配置规则" class="hash-link" aria-label="Direct link to property 配置规则" title="Direct link to property 配置规则">​</a></h3>
<table><thead><tr><th>属性</th><th>可空</th><th>描述</th></tr></thead><tbody><tr><td>name</td><td>是</td><td>name为通配符表达式。如果为空则表示匹配所有类型</td></tr><tr><td>modifier</td><td>是</td><td>指示匹配哪些可见类型的目标</td></tr><tr><td>obName</td><td>是</td><td>表示是否混淆property名。如果没有设置则并且type的applyToMembers属性为true并且type设置了obName属性，则继承type的obName值。</td></tr><tr><td>applyToMembers</td><td>是</td><td>obName值的额外作用目标，有效取值只能为<code>propertyGetterSetterName</code>，取其他值没有意义。如果obName为空，则尝试继承applyToMembers属性包含<code>propertyName</code>的所在type的obName值</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="event-配置规则">event 配置规则<a href="#event-配置规则" class="hash-link" aria-label="Direct link to event 配置规则" title="Direct link to event 配置规则">​</a></h3>
<table><thead><tr><th>属性</th><th>可空</th><th>描述</th></tr></thead><tbody><tr><td>name</td><td>是</td><td>name为通配符表达式。如果为空则表示匹配所有类型</td></tr><tr><td>modifier</td><td>是</td><td>指示匹配哪些可见类型的目标</td></tr><tr><td>obName</td><td>是</td><td>表示是否混淆event名。如果没有设置则并且type的applyToMembers属性为true并且type设置了obName属性，则继承type的obName值。</td></tr><tr><td>applyToMembers</td><td>是</td><td>obName值的额外作用目标，有效取值只能为<code>eventAddRemoveFireName</code>，取其他值没有意义。如果obName为空，则尝试继承applyToMembers属性包含<code>eventName</code>的所在type的obName值</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="method-配置规则">method 配置规则<a href="#method-配置规则" class="hash-link" aria-label="Direct link to method 配置规则" title="Direct link to method 配置规则">​</a></h3>
<table><thead><tr><th>属性</th><th>可空</th><th>描述</th></tr></thead><tbody><tr><td>name</td><td>是</td><td>name为通配符表达式。如果为空则表示匹配所有类型</td></tr><tr><td>modifier</td><td>是</td><td>指示匹配哪些可见类型的目标</td></tr><tr><td>obName</td><td>是</td><td>表示是否混淆method名。如果没有设置，则优先继承所属的applyToMember包含<code>propertyGetterSetterName</code>的property或applyToMember包含<code>eventAddRemoveFireName</code>的event，如果不存在相应的property或event规则，则尝试继承applyToMembers属性包含<code>method</code>的所在type的obName值。</td></tr></tbody></table></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/manual/symbol-obfuscation.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/manual/customattributes"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Obfuz CustomAttributes</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/manual/const-encryption"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">常量加密</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#设置" class="table-of-contents__link toc-highlight">设置</a></li><li><a href="#symbol-mapping文件" class="table-of-contents__link toc-highlight">symbol mapping文件</a></li><li><a href="#混淆名前缀" class="table-of-contents__link toc-highlight">混淆名前缀</a></li><li><a href="#namespace混淆" class="table-of-contents__link toc-highlight">Namespace混淆</a></li><li><a href="#debug模式" class="table-of-contents__link toc-highlight">Debug模式</a></li><li><a href="#默认禁用符号混淆的目标" class="table-of-contents__link toc-highlight">默认禁用符号混淆的目标</a></li><li><a href="#自定义renamepolicy" class="table-of-contents__link toc-highlight">自定义RenamePolicy</a></li><li><a href="#规则文件" class="table-of-contents__link toc-highlight">规则文件</a><ul><li><a href="#nullable-bool类型" class="table-of-contents__link toc-highlight">nullable bool类型</a></li></ul></li><li><a href="#modifier-类型" class="table-of-contents__link toc-highlight">modifier 类型</a></li><li><a href="#classtype-类型" class="table-of-contents__link toc-highlight">classType 类型</a></li><li><a href="#applytomember类型" class="table-of-contents__link toc-highlight">applyToMember类型</a><ul><li><a href="#assembly-配置规则" class="table-of-contents__link toc-highlight">assembly 配置规则</a></li><li><a href="#type-配置规则" class="table-of-contents__link toc-highlight">type 配置规则</a></li><li><a href="#field-配置规则" class="table-of-contents__link toc-highlight">field 配置规则</a></li><li><a href="#property-配置规则" class="table-of-contents__link toc-highlight">property 配置规则</a></li><li><a href="#event-配置规则" class="table-of-contents__link toc-highlight">event 配置规则</a></li><li><a href="#method-配置规则" class="table-of-contents__link toc-highlight">method 配置规则</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">文档</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">入门</a></li></ul></div><div class="col footer__col"><div class="footer__title">社区</div><ul class="footer__items clean-list"></ul></div><div class="col footer__col"><div class="footer__title">相关项目</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/focus-creative-games/hybridclr" target="_blank" rel="noopener noreferrer" class="footer__link-item">HybridCLR<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/focus-creative-games/luban" target="_blank" rel="noopener noreferrer" class="footer__link-item">Luban<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Code Philosophy, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>